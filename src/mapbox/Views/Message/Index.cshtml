@{
    ViewData["Title"] = "Message";
}

<script type="text/javascript">
        $(document).ready(function () {

            $('.new-message').submit(function (event) {
                event.preventDefault(),
                $.ajax({
                    type: 'POST',
                    data: $(this).serialize(),
                    dataType: 'html',
                    url: '@Url.Action("NewMessage")',
                    success: function (result) {
                        var resultMessage = "<p>New message:</p> <p>Please get my cans at:</p>" + result.Location +".<p> at:</p>" + result.When + "<p> Comments: </p>" + result.Comment
                        console.log(result);
                        $('#addMessage').html(resultMessage);
                    }
                });
            });
        });
</script>
<br />
<h3>Leave a message to have your cans picked up:</h3>

<form action="NewMessage" class="new-message">
    <div class="form-group">
        <label for="newAddress">Street Address:</label>
        <input type="text" name="newAddress" class="form-control" />
    </div>
    <div class="form-group">
        <label for="newDate">Date:</label>
        <input type="text" name="newDate" class="form-control" />
    </div>
    <div class="form-group">
    <label for="newComment">Comments:</label>
    <input type="text" name="newComment" class="form-control" />
    </div>
    <button type="submit" class="btn btn-success">Send</button>
</form>

<div id="addMessage"></div>